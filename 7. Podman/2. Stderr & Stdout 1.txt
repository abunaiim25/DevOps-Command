
### üîπ Step 1: Host side ‡¶è log ‡¶´‡ßã‡¶≤‡ßç‡¶°‡¶æ‡¶∞ ‡¶¨‡¶æ‡¶®‡¶æ‡¶ì
mkdir -p /root/logs


---

### üîπ Step 2: Tomcat Container Run Command (Fixed Version ‚úÖ)

podman run -d --name tomcat-3 \
  --network mynet \
  -v /root/tomcat-conf/server.xml:/opt/tomcat/conf/server.xml:Z \
  -p 8443:8443 \
  -v /root/logs:/opt/tomcat/logs:Z \
  -v /root/keystore.jks:/opt/tomcat/conf/keystore.jks:Z \
  docker-reg.oss.net.bd/tomcat.8.0.53:v1 \
  /bin/sh -c '/opt/tomcat/bin/catalina.sh run 2>&1 | tee /opt/tomcat/logs/stdout.log | grep -E "ERROR|SEVERE|WARNING|FATAL|EXCEPTION|FAIL" > /opt/tomcat/logs/stderr.log'

or

podman run -d --name tomcat8 \
  --network mynet \
  -p 8443:8443 \
  -v /root/tomcat-conf/server.xml:/opt/tomcat/conf/server.xml:Z \
  -v /root/keystore.jks:/opt/tomcat/conf/keystore.jks:Z \
  -v /root/logs:/opt/tomcat/logs:Z \
  tomcat:8.0.53 \
  /bin/sh -c "/opt/tomcat/bin/catalina.sh start && tail -f /opt/tomcat/logs/catalina.out"

or

podman run -d --name tomcat-https \
  --network mynet \
  -p 8444:8443 \
  -v /root/tomcat-conf/server.xml:/opt/tomcat/conf/server.xml:Z \
  -v /root/keystore.jks:/opt/tomcat/conf/keystore.jks:Z \
  -v /root/logs:/opt/tomcat/logs:Z \
  tomcat:8.0.53 \
  /bin/sh -c '(/opt/tomcat/bin/catalina.sh run >> /opt/tomcat/logs/catalina.out 2>&1 &) && tail -f /opt/tomcat/logs/catalina.out | tee /opt/tomcat/logs/stdout.log | grep -E "ERROR|SEVERE|WARNING|FATAL|EXCEPTION|FAIL" > /opt/tomcat/logs/stderr.log'


  ‡¶Ø‡¶¶‡¶ø ‡¶§‡ßÅ‡¶Æ‡¶ø ‡¶∏‡¶¨ ERROR / SEVERE ‡¶è‡¶ï‡¶∏‡¶æ‡¶•‡ßá ‡¶ß‡¶∞‡¶§‡ßá ‡¶ö‡¶æ‡¶ì:
  /opt/tomcat/bin/catalina.sh run 2>&1 | tee /opt/tomcat/logs/stdout.log | grep -E "ERROR|SEVERE" > /opt/tomcat/logs/stderr.log
  ‡¶Ü‡¶∞‡¶ì advanced ‡¶≠‡¶æ‡¶¨‡ßá:
  /opt/tomcat/bin/catalina.sh run > >(tee /opt/tomcat/logs/stdout.log) 2> >(tee /opt/tomcat/logs/stderr.log >&2)

---
### üß† ‡¶¨‡ßç‡¶Ø‡¶æ‡¶ñ‡ßç‡¶Ø‡¶æ
* `>` ‚Üí ‡¶∂‡ßÅ‡¶ß‡ßÅ normal output (`stdout`)
* `2>` ‚Üí ‡¶∂‡ßÅ‡¶ß‡ßÅ error output (`stderr`)
* `exec` ‚Üí ‡¶®‡¶ø‡¶∂‡ßç‡¶ö‡¶ø‡¶§ ‡¶ï‡¶∞‡ßá ‡¶Ø‡ßá `/bin/sh` ‡¶®‡¶ø‡¶ú‡ßá‡¶á Tomcat process ‡¶è‡¶∞ PID 1 ‡¶®‡ßá‡ßü (‡¶®‡¶æ ‡¶π‡¶≤‡ßá signal/stop ‡¶†‡¶ø‡¶ï‡¶Æ‡¶§‡ßã ‡¶ï‡¶æ‡¶ú ‡¶ï‡¶∞‡¶¨‡ßá ‡¶®‡¶æ)

---

### üîπ Step 3: Container ‡¶è‡¶∞ ‡¶≠‡ßá‡¶§‡¶∞‡ßá ‡¶≤‡¶ó ‡¶ö‡ßá‡¶ï ‡¶ï‡¶∞‡ßã
podman exec -it tomcat-https sh
cd /opt/tomcat/logs/
ls


‡¶§‡ßÅ‡¶Æ‡¶ø ‡¶¶‡ßá‡¶ñ‡¶§‡ßá ‡¶™‡¶æ‡¶¨‡ßá:
stdout.log
stderr.log
catalina.out
localhost_access_log.*

‡¶§‡¶æ‡¶∞‡¶™‡¶∞ real-time ‡¶≤‡¶ó ‡¶¶‡ßá‡¶ñ‡ßã:
tail -f stdout.log

‡¶¨‡¶æ error ‡¶ó‡ßÅ‡¶≤‡ßã ‡¶¶‡ßá‡¶ñ‡¶§‡ßá:
tail -f stderr.log

---

### üîπ Step 4: systemd ‡¶∏‡¶æ‡¶∞‡ßç‡¶≠‡¶ø‡¶∏ (‡¶Ø‡¶¶‡¶ø container ‡¶ü‡¶æ ‡¶∏‡¶æ‡¶∞‡ßç‡¶≠‡¶ø‡¶∏ ‡¶π‡¶ø‡¶∏‡ßá‡¶¨‡ßá ‡¶ö‡¶æ‡¶≤‡¶æ‡¶§‡ßá ‡¶ö‡¶æ‡¶ì) on host machine
sudo vi /etc/systemd/system/tomcat.service

[Unit]
Description=Tomcat Podman Container
After=network.target

[Service]
Restart=always
ExecStart=/usr/bin/podman start -a tomcat-https
ExecStop=/usr/bin/podman stop -t 10 tomcat-https

[Install]
WantedBy=multi-user.target


‡¶§‡¶æ‡¶∞‡¶™‡¶∞ ‡¶∞‡¶ø‡¶≤‡ßã‡¶° ‡¶ï‡¶∞‡ßã:
sudo systemctl daemon-reexec
sudo systemctl daemon-reload
sudo systemctl enable --now tomcat


---
podman exec -it tomcat-https sh
cd logs
tail -f stdout.log
tail -f stderr.log


### ‚úÖ Final Result

‡¶è‡¶ñ‡¶® ‡¶§‡ßã‡¶Æ‡¶æ‡¶∞ ‡¶≤‡¶ó‡¶ó‡ßÅ‡¶≤‡ßã ‡¶Ü‡¶≤‡¶æ‡¶¶‡¶æ ‡¶π‡ßü‡ßá ‡¶Ø‡¶æ‡¶¨‡ßá:

| ‡¶≤‡¶ó ‡¶ü‡¶æ‡¶á‡¶™           | ‡¶≤‡ßã‡¶ï‡ßá‡¶∂‡¶®                        |
| ----------------- | ----------------------------- |
| Normal Output     | `/opt/tomcat/logs/stdout.log` |
| Error / Exception | `/opt/tomcat/logs/stderr.log` |
| Host Mirror       | `/root/logs/`                 |

ERROR ‚Üí ‡¶ï‡ßã‡¶®‡ßã ‡¶¨‡ßú ‡¶∏‡¶Æ‡¶∏‡ßç‡¶Ø‡¶æ ‡¶π‡ßü‡ßá‡¶õ‡ßá, ‡¶Ø‡¶æ application ‡¶†‡¶ø‡¶ï‡¶≠‡¶æ‡¶¨‡ßá ‡¶ï‡¶æ‡¶ú ‡¶ï‡¶∞‡¶§‡ßá ‡¶¨‡¶æ‡¶ß‡¶æ ‡¶¶‡¶ø‡¶§‡ßá ‡¶™‡¶æ‡¶∞‡ßá‡•§
SEVERE ‚Üí ‡¶ú‡¶æ‡¶≠‡¶æ‡¶∞ logging-‡¶è ‡¶∏‡¶¨‡¶ö‡ßá‡ßü‡ßá ‡¶ó‡ßÅ‡¶∞‡ßÅ‡¶§‡¶∞ ‡¶∏‡¶Æ‡¶∏‡ßç‡¶Ø‡¶æ‡•§ ‡¶∏‡¶æ‡¶ß‡¶æ‡¶∞‡¶£‡¶§ system crash ‡¶¨‡¶æ major failure ‡¶®‡¶ø‡¶∞‡ßç‡¶¶‡ßá‡¶∂ ‡¶ï‡¶∞‡ßá‡•§
WARNING ‚Üí ‡¶∏‡¶§‡¶∞‡ßç‡¶ï‡¶¨‡¶æ‡¶∞‡ßç‡¶§‡¶æ, ‡¶ï‡¶ø‡¶õ‡ßÅ ‡¶†‡¶ø‡¶ï‡¶Æ‡¶§‡ßã ‡¶π‡¶ö‡ßç‡¶õ‡ßá ‡¶®‡¶æ, ‡¶ï‡¶ø‡¶®‡ßç‡¶§‡ßÅ program ‡¶ö‡¶≤‡¶§‡ßá ‡¶™‡¶æ‡¶∞‡ßá‡•§
FATAL ‚Üí ‡¶∏‡¶¨‡¶ö‡ßá‡ßü‡ßá ‡¶¨‡ßú critical error, system/‡¶∏‡¶æ‡¶∞‡ßç‡¶≠‡¶æ‡¶∞ ‡¶¨‡¶®‡ßç‡¶ß ‡¶π‡ßü‡ßá ‡¶Ø‡ßá‡¶§‡ßá ‡¶™‡¶æ‡¶∞‡ßá‡•§
EXCEPTION ‚Üí Java ‡¶¨‡¶æ app-‡¶è exception ‡¶π‡ßü‡ßá‡¶õ‡ßá, ‡¶ï‡ßã‡¶®‡ßã unexpected condition ‡¶ò‡¶ü‡ßá‡¶õ‡ßá‡•§
FAIL ‚Üí ‡¶ï‡ßã‡¶®‡ßã process ‡¶¨‡¶æ operation ‡¶¨‡ßç‡¶Ø‡¶∞‡ßç‡¶• ‡¶π‡ßü‡ßá‡¶õ‡ßá‡•§




