
## ЁЯзй **Step-by-Step: Tomcat User Password рж╕рзЗржЯ ржХрж░рж╛рж░ ржирж┐рзЯржо**
### ЁЯФ╣ **Step 1: Tomcat-ржПрж░ `tomcat-users.xml` ржлрж╛ржЗрж▓ ржЦрзБржБржЬрзЗ ржмрзЗрж░ ржХрж░рзЛ**
Container ржПрж░ ржнрзЗрждрж░рзЗ ржлрж╛ржЗрж▓ржЯрж╛ рж╕рж╛ржзрж╛рж░ржгржд ржПржЗ path ржП ржерж╛ржХрзЗ ЁЯСЗ
/opt/tomcat/conf/tomcat-users.xml

Host ржерзЗржХрзЗ ржпржжрж┐ рждрзБржорж┐ `/opt/tomcat/conf` mount ржХрж░рзЗ ржерж╛ржХрзЛ, рждрж╛рж╣рж▓рзЗ host ржерзЗржХрзЗ рж╕рж░рж╛рж╕рж░рж┐ ржУржЗ ржлрж╛ржЗрж▓ ржПржбрж┐ржЯ ржХрж░рждрзЗ ржкрж╛рж░рзЛред


### ЁЯФ╣ **Step 2: ржлрж╛ржЗрж▓ржЯрж╛ ржЦрзБрж▓рзЗ ржПржбрж┐ржЯ ржХрж░рзЛ**
Container ржП ржврзБржХрждрзЗ:
podman exec -it tomcat-https sh
рждрж╛рж░ржкрж░:
vi /opt/tomcat/conf/tomcat-users.xml

---

### ЁЯФ╣ **Step 3: ржирж┐ржЪрзЗрж░ ржорждрзЛ `<tomcat-users>` ржЯрзНржпрж╛ржЧрзЗрж░ ржнрзЗрждрж░рзЗ user-role ржпрзЛржЧ ржХрж░рзЛ**
ЁЯСЙ **Example:**
<tomcat-users>
    <role rolename="manager-gui"/>
    <role rolename="admin-gui"/>
    <user username="admin" password="S3cret" roles="manager-gui,admin-gui"/>
</tomcat-users>

тЪая╕П **рж╕рждрж░рзНржХрждрж╛:**
* password ржпрзЗржи рж╕рж╣ржЬ ржирж╛ рж╣рзЯ, ржирж╛ рж╣рж▓рзЗ web console ржжрж┐рзЯрзЗ ржХрзЗржЙ ржврзБржХрзЗ ржпрж╛ржмрзЗред
* username-password ржжрзБржЗржЯрж╛ржЗ case-sensitiveред

---

### ЁЯФ╣ **Step 4: Tomcat restart ржжрж╛ржУ**
Container ржерзЗржХрзЗ ржмрзЗрж░ рж╣рзЯрзЗ:
podman restart tomcat-https

---

### ЁЯФ╣ **Step 5: ржПржЦржи web browser ржерзЗржХрзЗ ржЯрзЗрж╕рзНржЯ ржХрж░рзЛ**
Open:
https://<your-host-ip>:8443/manager/html
ржЕржержмрж╛
http://<your-host-ip>:8080/manager/html

(рждрзЛржорж╛рж░ server.xml ржЕржирзБржпрж╛рзЯрзА ржпрзЗржЯрж╛ active ржЖржЫрзЗ)
ржПржЦржи рждрзЛржорж╛ржХрзЗ user/pass ржЬрж┐ржЬрзНржЮрзЗрж╕ ржХрж░ржмрзЗред
тЖТ ржжрж╛ржУ:
Username: admin
Password: MySecurePass123

---

### ЁЯза **Extra Tips:**
тЬЕ ржпржжрж┐ тАЬAccess DeniedтАЭ ржжрзЗржЦрж╛рзЯ (manager-gui restricted):
* ржирж┐рж╢рзНржЪрж┐ржд рж╣ржУ ржпрзЗ `/opt/tomcat/webapps/manager/META-INF/context.xml` ржлрж╛ржЗрж▓рзЗ ржирж┐ржЪрзЗрж░ржЯрж╛ **commented out** ржЖржЫрзЗ:
<!--
<Valve className="org.apache.catalina.valves.RemoteAddrValve"
       allow="127\.\d+\.\d+\.\d+|::1|0:0:0:0:0:0:0:1" />
-->


ржирж╛ рж╣рж▓рзЗ рж╢рзБржзрзБ localhost ржерзЗржХрзЗржЗ рж▓ржЧржЗржи ржХрж░рж╛ ржпрж╛ржмрзЗред
тЬЕ ржпржжрж┐ multiple user рж░рж╛ржЦрждрзЗ ржЪрж╛ржУ:
<user username="deploy" password="Deploy123" roles="manager-script"/>
<user username="viewer" password="ViewOnly" roles="manager-status"/>


---

### ЁЯзй **Summary:**

| Step | ржХрж╛ржЬ                  | ржХржорж╛ржирзНржб / ржлрж╛ржЗрж▓                                       |
| ---- | -------------------- | --------------------------------------------------- |
| 1я╕ПтГг  | config path ржЦрзБржБржЬрзЛ    | `/opt/tomcat/conf/tomcat-users.xml`                 |
| 2я╕ПтГг  | roles ржпрзЛржЧ ржХрж░рзЛ        | `<role>` ржЯрзНржпрж╛ржЧ                                      |
| 3я╕ПтГг  | user ржпрзЛржЧ ржХрж░рзЛ         | `<user username="..." password="..." roles="..."/>` |
| 4я╕ПтГг  | Tomcat restart ржХрж░рзЛ   | `podman restart tomcat-https-2`                     |
| 5я╕ПтГг  | web console test ржХрж░рзЛ | `/manager/html`                                     |

---

ржЪрж╛ржУ ржЪрж╛ржЗрж▓рзЗ ржЖржорж┐ рждрзЛржорж╛ржХрзЗ ржПржХржЯрж╛ **ready tomcat-users.xml** ржлрж╛ржЗрж▓ ржмрж╛ржирж┐рзЯрзЗ ржжрж┐рждрзЗ ржкрж╛рж░рж┐ тАФ ржпрзЗржЦрж╛ржирзЗ admin, manager, deployer role ржЖржЧрзЗ ржерзЗржХрзЗржЗ рж╕рзЗржЯ ржХрж░рж╛ ржерж╛ржХржмрзЗред ржжрж┐ржмрзЛ?
